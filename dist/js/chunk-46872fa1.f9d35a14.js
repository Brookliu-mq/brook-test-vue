(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46872fa1"],{"057f":function(e,t,r){var n=r("fc6a"),i=r("241c").f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==s.call(e)?o(e):i(n(e))}},"159b":function(e,t,r){var n=r("da84"),i=r("fdbc"),s=r("17c2"),a=r("9112");for(var o in i){var c=n[o],f=c&&c.prototype;if(f&&f.forEach!==s)try{a(f,"forEach",s)}catch(u){f.forEach=s}}},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,i=r("a640"),s=r("ae40"),a=i("forEach"),o=s("forEach");e.exports=a&&o?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"1d11":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"message__box"},[e.loading?r("Spin",{attrs:{fix:""}}):e._e(),r("div",{staticClass:"message__window"},[r("div",{ref:"viewer",staticClass:"message__viewer"},[e._v("> "),e._l(e.messages,(function(t,n){return r("Message",{key:n,staticClass:"message__item",attrs:{own:t.send_type===e.CHAT_SEND_TYPE_STUDENT,message:t}})}))],2),r("div",{staticClass:"message__controller"},[r("div",{staticClass:"message__textarea"},[r("div"),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:"请输入聊天内容"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),r("div",{staticClass:"message__send flex--ac flex--jc",on:{click:e.handleSendMessage}},[e.sending?r("Spin",{staticClass:"spin"}):e._e(),e._v(" 发送 ")],1)])])],1)},i=[],s=(r("96cf"),r("1da1")),a=r("5530"),o=r("2af9"),c=r("d800"),f=r("b768"),u=r("2ef0"),l=r.n(u),d=r("2f62"),b={name:"MessageBox",components:{Message:o["a"]},watch:{messages:{immediate:!0,keep:!0,handler:function(){this.$nextTick(this.scrollToBottom)}}},computed:Object(a["a"])(Object(a["a"])({},Object(d["d"])(["student_messages"])),{},{messages:function(){return this.student_messages||[]}}),data:function(){return{CHAT_SEND_TYPE_STUDENT:f["c"],CHAT_SEND_TYPE_TEACHER:f["d"],message:"",loading:!1,sending:!1}},created:function(){this.fetchRecentMessages()},methods:Object(a["a"])(Object(a["a"])({},Object(d["c"])(["SET_STUDENT_MESSAGES"])),{},{scrollToBottom:function(){this.$refs.viewer.scrollTop=this.$refs.viewer.scrollHeight},fetchRecentMessages:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Object(c["b"])();case 4:r=t.sent,n=r.data,e.SET_STUDENT_MESSAGES(n),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0),e.$Message.error("请求消息记录失败");case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,9,13,16]])})))()},handleSendMessage:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==e.sending){t.next=2;break}return t.abrupt("return",e.$Message.warning("消息发送中"));case 2:return t.prev=2,e.sending=!0,t.next=6,Object(c["e"])(e.message);case 6:r=t.sent,n=r.data,e.messages.push(n),e.message="",t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),console.error(t.t0),e.$Message.error(l.a.get(t.t0,"response.data.message","发送失败"));case 16:return t.prev=16,e.sending=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,12,16,19]])})))()}})},g=b,p=(r("a367"),r("2877")),h=Object(p["a"])(g,n,i,!1,null,"1f2028c9",null);t["default"]=h.exports},4160:function(e,t,r){"use strict";var n=r("23e7"),i=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"4de4":function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").filter,s=r("1dde"),a=r("ae40"),o=s("filter"),c=a("filter");n({target:"Array",proto:!0,forced:!o||!c},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"746f":function(e,t,r){var n=r("428f"),i=r("5135"),s=r("e538"),a=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:s.f(e)})}},a367:function(e,t,r){"use strict";var n=r("e93b"),i=r.n(n);i.a},a4d3:function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),s=r("d066"),a=r("c430"),o=r("83ab"),c=r("4930"),f=r("fdbf"),u=r("d039"),l=r("5135"),d=r("e8b5"),b=r("861d"),g=r("825a"),p=r("7b0b"),h=r("fc6a"),v=r("c04e"),m=r("5c6c"),y=r("7c73"),S=r("df75"),O=r("241c"),w=r("057f"),j=r("7418"),E=r("06cf"),_=r("9bf2"),T=r("d1e7"),P=r("9112"),L=r("6eeb"),x=r("5692"),M=r("f772"),C=r("d012"),k=r("90e3"),D=r("b622"),N=r("e538"),A=r("746f"),R=r("d44e"),H=r("69f3"),G=r("b727").forEach,V=M("hidden"),$="Symbol",B="prototype",F=D("toPrimitive"),J=H.set,U=H.getterFor($),I=Object[B],Y=i.Symbol,q=s("JSON","stringify"),Q=E.f,W=_.f,z=w.f,K=T.f,X=x("symbols"),Z=x("op-symbols"),ee=x("string-to-symbol-registry"),te=x("symbol-to-string-registry"),re=x("wks"),ne=i.QObject,ie=!ne||!ne[B]||!ne[B].findChild,se=o&&u((function(){return 7!=y(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=Q(I,t);n&&delete I[t],W(e,t,r),n&&e!==I&&W(I,t,n)}:W,ae=function(e,t){var r=X[e]=y(Y[B]);return J(r,{type:$,tag:e,description:t}),o||(r.description=t),r},oe=f?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Y},ce=function(e,t,r){e===I&&ce(Z,t,r),g(e);var n=v(t,!0);return g(r),l(X,n)?(r.enumerable?(l(e,V)&&e[V][n]&&(e[V][n]=!1),r=y(r,{enumerable:m(0,!1)})):(l(e,V)||W(e,V,m(1,{})),e[V][n]=!0),se(e,n,r)):W(e,n,r)},fe=function(e,t){g(e);var r=h(t),n=S(r).concat(ge(r));return G(n,(function(t){o&&!le.call(r,t)||ce(e,t,r[t])})),e},ue=function(e,t){return void 0===t?y(e):fe(y(e),t)},le=function(e){var t=v(e,!0),r=K.call(this,t);return!(this===I&&l(X,t)&&!l(Z,t))&&(!(r||!l(this,t)||!l(X,t)||l(this,V)&&this[V][t])||r)},de=function(e,t){var r=h(e),n=v(t,!0);if(r!==I||!l(X,n)||l(Z,n)){var i=Q(r,n);return!i||!l(X,n)||l(r,V)&&r[V][n]||(i.enumerable=!0),i}},be=function(e){var t=z(h(e)),r=[];return G(t,(function(e){l(X,e)||l(C,e)||r.push(e)})),r},ge=function(e){var t=e===I,r=z(t?Z:h(e)),n=[];return G(r,(function(e){!l(X,e)||t&&!l(I,e)||n.push(X[e])})),n};if(c||(Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=k(e),r=function(e){this===I&&r.call(Z,e),l(this,V)&&l(this[V],t)&&(this[V][t]=!1),se(this,t,m(1,e))};return o&&ie&&se(I,t,{configurable:!0,set:r}),ae(t,e)},L(Y[B],"toString",(function(){return U(this).tag})),L(Y,"withoutSetter",(function(e){return ae(k(e),e)})),T.f=le,_.f=ce,E.f=de,O.f=w.f=be,j.f=ge,N.f=function(e){return ae(D(e),e)},o&&(W(Y[B],"description",{configurable:!0,get:function(){return U(this).description}}),a||L(I,"propertyIsEnumerable",le,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Y}),G(S(re),(function(e){A(e)})),n({target:$,stat:!0,forced:!c},{for:function(e){var t=String(e);if(l(ee,t))return ee[t];var r=Y(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(l(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!o},{create:ue,defineProperty:ce,defineProperties:fe,getOwnPropertyDescriptor:de}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:be,getOwnPropertySymbols:ge}),n({target:"Object",stat:!0,forced:u((function(){j.f(1)}))},{getOwnPropertySymbols:function(e){return j.f(p(e))}}),q){var pe=!c||u((function(){var e=Y();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}));n({target:"JSON",stat:!0,forced:pe},{stringify:function(e,t,r){var n,i=[e],s=1;while(arguments.length>s)i.push(arguments[s++]);if(n=t,(b(t)||void 0!==e)&&!oe(e))return d(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!oe(t))return t}),i[1]=t,q.apply(null,i)}})}Y[B][F]||P(Y[B],F,Y[B].valueOf),R(Y,$),C[V]=!0},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},b64b:function(e,t,r){var n=r("23e7"),i=r("7b0b"),s=r("df75"),a=r("d039"),o=a((function(){s(1)}));n({target:"Object",stat:!0,forced:o},{keys:function(e){return s(i(e))}})},b727:function(e,t,r){var n=r("0366"),i=r("44ad"),s=r("7b0b"),a=r("50c4"),o=r("65f0"),c=[].push,f=function(e){var t=1==e,r=2==e,f=3==e,u=4==e,l=6==e,d=5==e||l;return function(b,g,p,h){for(var v,m,y=s(b),S=i(y),O=n(g,p,3),w=a(S.length),j=0,E=h||o,_=t?E(b,w):r?E(b,0):void 0;w>j;j++)if((d||j in S)&&(v=S[j],m=O(v,j,y),e))if(t)_[j]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return j;case 2:c.call(_,v)}else if(u)return!1;return l?-1:f||u?u:_}};e.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6)}},dbb4:function(e,t,r){var n=r("23e7"),i=r("83ab"),s=r("56ef"),a=r("fc6a"),o=r("06cf"),c=r("8418");n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,r,n=a(e),i=o.f,f=s(n),u={},l=0;while(f.length>l)r=i(n,t=f[l++]),void 0!==r&&c(u,t,r);return u}})},e439:function(e,t,r){var n=r("23e7"),i=r("d039"),s=r("fc6a"),a=r("06cf").f,o=r("83ab"),c=i((function(){a(1)})),f=!o||c;n({target:"Object",stat:!0,forced:f,sham:!o},{getOwnPropertyDescriptor:function(e,t){return a(s(e),t)}})},e538:function(e,t,r){var n=r("b622");t.f=n},e93b:function(e,t,r){},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-46872fa1.f9d35a14.js.map